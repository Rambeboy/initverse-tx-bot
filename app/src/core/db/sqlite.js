const _0x5c50aa=_0x3076;(function(_0x1f2242,_0x15f356){const _0x556087=_0x3076,_0x26039d=_0x1f2242();while(!![]){try{const _0x18fc56=-parseInt(_0x556087(0x1cc))/0x1*(parseInt(_0x556087(0x1c0))/0x2)+parseInt(_0x556087(0x1b8))/0x3+-parseInt(_0x556087(0x1bb))/0x4+-parseInt(_0x556087(0x1c6))/0x5+parseInt(_0x556087(0x1ca))/0x6+-parseInt(_0x556087(0x1c7))/0x7*(parseInt(_0x556087(0x1ba))/0x8)+parseInt(_0x556087(0x1c2))/0x9;if(_0x18fc56===_0x15f356)break;else _0x26039d['push'](_0x26039d['shift']());}catch(_0x1529ad){_0x26039d['push'](_0x26039d['shift']());}}}(_0x2d8d,0x37241));import _0x37b0cc from'sqlite3';import{open}from'sqlite';class SQLITE{async[_0x5c50aa(0x1b6)](){const _0x2a579d=_0x5c50aa;return open({'filename':_0x2a579d(0x1c8),'driver':_0x37b0cc[_0x2a579d(0x1c1)]});}async[_0x5c50aa(0x1bf)](){const _0x195d3e=_0x5c50aa,_0x53419a=await this[_0x195d3e(0x1b6)]();await _0x53419a['exec'](_0x195d3e(0x1cb)),await _0x53419a['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20approve_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20spender\x20TEXT\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x53419a[_0x195d3e(0x1c4)]();}async[_0x5c50aa(0x1bc)](_0x16a8f1,_0x220841,_0x50e19f){const _0x206677=_0x5c50aa,_0x2e99a9=await this['connectToDatabase']();await _0x2e99a9[_0x206677(0x1c3)](_0x206677(0x1b7),[_0x16a8f1,_0x220841,_0x50e19f]),await _0x2e99a9[_0x206677(0x1c4)]();}async[_0x5c50aa(0x1c5)](_0x20933e,_0x448aef){const _0x378cb8=_0x5c50aa,_0x37a3ef=await this[_0x378cb8(0x1b6)]();await _0x37a3ef[_0x378cb8(0x1c3)](_0x378cb8(0x1b9),[_0x20933e,_0x448aef]),await _0x37a3ef[_0x378cb8(0x1c4)]();}async['getTodayTxLog'](_0x3b68cd,_0x46c31c){const _0x351e5a=_0x5c50aa,_0x2ca7de=await this[_0x351e5a(0x1b6)](),_0x401d23=new Date()[_0x351e5a(0x1c9)]()['split']('T')[0x0],_0x4ac48d=await _0x2ca7de[_0x351e5a(0x1cd)](_0x351e5a(0x1b5),[_0x401d23,_0x3b68cd,_0x46c31c]);return await _0x2ca7de['close'](),_0x4ac48d;}async[_0x5c50aa(0x1bd)](_0x4dc406,_0x11a913){const _0x495201=_0x5c50aa,_0x37c3e9=await this[_0x495201(0x1b6)](),_0x532a73=await _0x37c3e9[_0x495201(0x1cd)]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20approve_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20address\x20=\x20?\x20AND\x20spender\x20=\x20?\x0a\x20\x20\x20\x20',[_0x4dc406,_0x11a913]);return await _0x37c3e9[_0x495201(0x1c4)](),_0x532a73[_0x495201(0x1be)]>0x0;}}const sqlite=new SQLITE();await sqlite['createTable']();function _0x3076(_0x2a454a,_0x43ca05){const _0x2d8dd1=_0x2d8d();return _0x3076=function(_0x307644,_0x420af5){_0x307644=_0x307644-0x1b5;let _0x44c0f5=_0x2d8dd1[_0x307644];return _0x44c0f5;},_0x3076(_0x2a454a,_0x43ca05);}export default sqlite;function _0x2d8d(){const _0x327b2f=['240232UtLSbu','952572CmvIvP','insertData','isSpenderExists','length','createTable','536450XjgTpp','Database','8648712YqIeRw','run','close','insertApprovalData','2102795WRfcbH','14tPkCuV','./database.db','toISOString','221598qPZWKE','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20tx_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20tx_date\x20DATE\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20type\x20TEXT\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20','1LPHZrc','all','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20tx_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20DATE(tx_date)\x20=\x20?\x20AND\x20address\x20=\x20?\x20AND\x20type\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20tx_date\x20DESC\x0a\x20\x20\x20\x20','connectToDatabase','INSERT\x20INTO\x20tx_log\x20(address,\x20tx_date,\x20type)\x20VALUES\x20(?,\x20?,\x20?)','644823OlbxIs','INSERT\x20INTO\x20approve_log\x20(address,\x20spender)\x20VALUES\x20(?,\x20?)'];_0x2d8d=function(){return _0x327b2f;};return _0x2d8d();}